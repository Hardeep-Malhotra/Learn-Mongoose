# ğŸ“¥ Mongoose | insertMany() Function



The `insertMany()` function in Mongoose is used to insert **multiple documents at once** into a MongoDB collection.  
It accepts an array of objects and is **faster and more efficient** than inserting documents one by one.

This function is highly useful when you want to add bulk records such as users, products, students, etc.

---

## âœ… Syntax

```javascript
Model.insertMany(docs, options, callback);
Parameters
docs â†’ Array of documents to insert

options (optional) â†’

ordered â†’ stop on first error or continue

rawResult â†’ return raw MongoDB response

callback (optional) â†’

function executed after insertion

if skipped, a Promise is returned

ğŸ” Return Value
Returns a Promise

Contains array of inserted documents

Includes _id generated by MongoDB

ğŸ›  Installation Steps
Step 1 â€” Initialize Node project

npm init -y
Step 2 â€” Install Mongoose

npm install mongoose
Step 3 â€” Check version

npm version mongoose
ğŸ—‚ Example Project Structure

NodeProj
 â”œâ”€â”€ package.json
 â””â”€â”€ index.js

ğŸ›  Example 1 â€” Basic insertMany() Usage

const mongoose = require("mongoose");

// 1ï¸âƒ£ Database connection
mongoose.connect("mongodb://127.0.0.1:27017/school")
  .then(() => console.log("Connected"))
  .catch(err => console.log(err));

// 2ï¸âƒ£ Schema & Model
const studentSchema = new mongoose.Schema({
  name: String,
  age: Number,
  city: String
});

const Student = mongoose.model("Student", studentSchema);

// 3ï¸âƒ£ Using insertMany()
async function addStudents() {

  try {
    const result = await Student.insertMany([
      { name: "Amit", age: 20, city: "Delhi" },
      { name: "Gourav", age: 22, city: "Pune" },
      { name: "Neha", age: 21, city: "Mumbai" },
      { name: "Riya", age: 23, city: "Jaipur" }
    ]);

    console.log("Inserted Documents:");
    console.log(result);

  } catch (err) {
    console.log("Error:", err);
  }
}

addStudents();
â–¶ï¸ Run the application

node index.js
ğŸ§¾ Output
Multiple documents will be inserted

Console shows inserted documents with _id values

Check data using MongoDB Compass / Robo 3T

Example console output:

Connected
Inserted Documents:
[
 { _id: 67ab9f..., name: 'Amit', age: 20, city: 'Delhi' },
 { _id: 67ab9f..., name: 'Gourav', age: 22, city: 'Pune' },
 ...
]

âš™ï¸ Options Example (ordered vs unordered)

Student.insertMany(
  [
    { name: "Aman" },
    { _id: "duplicate_id", name: "Error Example" },
    { name: "Rohit" }
  ],
  { ordered: false }   // continue inserting after errors
);

ordered: true â†’ stops at first error

ordered: false â†’ continues inserting remaining docs

ğŸ“ Conclusion

insertMany() inserts multiple documents efficiently

It is fast and optimized compared to repeated save()

Returns inserted docs as an array

Supports options like ordered inserts & raw results

